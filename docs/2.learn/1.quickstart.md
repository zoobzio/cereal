---
title: Quickstart
description: Get started with codec in minutes
author: zoobzio
published: 2025-12-27
updated: 2025-12-27
tags:
  - Quickstart
  - Getting Started
---

# Quickstart

## Requirements

Go 1.24 or later.

## Installation

```bash
go get github.com/zoobzio/codec
```

## Basic Codec Usage

For simple marshaling without sanitization, use a codec directly:

```go
package main

import (
    "fmt"

    "github.com/zoobzio/codec/pkg/json"
)

type Message struct {
    ID   string `json:"id"`
    Text string `json:"text"`
}

func main() {
    codec := json.New()

    msg := Message{ID: "1", Text: "Hello"}

    // Marshal
    data, err := codec.Marshal(msg)
    if err != nil {
        panic(err)
    }
    fmt.Println(string(data))
    // {"id":"1","text":"Hello"}

    // Unmarshal
    var result Message
    err = codec.Unmarshal(data, &result)
    if err != nil {
        panic(err)
    }
    fmt.Printf("%+v\n", result)
    // {ID:1 Text:Hello}
}
```

## Serializer with Sanitization

For type-aware serialization with automatic field sanitization:

```go
package main

import (
    "fmt"

    "github.com/zoobzio/codec"
    "github.com/zoobzio/codec/pkg/json"
)

// 1. Define your type with sanitization tags
type User struct {
    ID       string `json:"id"`
    Email    string `json:"email" mask:"email"`
    Password string `json:"password" encrypt:"pii"`
    Token    string `json:"token" hash:"sha256"`
}

// 2. Implement Cloner[T]
func (u User) Clone() User { return u }

func main() {
    // 3. Create encryptor
    key := []byte("32-byte-key-for-aes-256-encrypt!")
    enc, err := codec.AES(key)
    if err != nil {
        panic(err)
    }

    // 4. Create serializer with options
    ser, err := codec.NewSerializer[User](
        json.New(),
        codec.WithEncryptor("pii", enc),
        codec.WithHasher("sha256", codec.SHA256()),
    )
    if err != nil {
        panic(err)
    }

    // 5. Marshal (applies sanitization)
    user := &User{
        ID:       "123",
        Email:    "alice@example.com",
        Password: "secret",
        Token:    "abc123",
    }

    data, err := ser.Marshal(user)
    if err != nil {
        panic(err)
    }
    fmt.Println(string(data))
    // Email masked, Password encrypted, Token hashed

    // 6. Unmarshal (decrypts encrypted fields)
    restored, err := ser.Unmarshal(data)
    if err != nil {
        panic(err)
    }
    fmt.Printf("Password restored: %s\n", restored.Password)
    // Password restored: secret
}
```

## What's Happening

1. `mask:"email"` - Partially masks the email: `alice@example.com` becomes `a***@example.com`
2. `encrypt:"pii"` - Encrypts with the encryptor registered as "pii"
3. `hash:"sha256"` - One-way hashes with the hasher registered as "sha256"
4. `Clone()` - Returns a copy so the original is never modified
5. `Marshal` - Clones, sanitizes, then encodes to JSON
6. `Unmarshal` - Decodes from JSON, then decrypts encrypted fields
